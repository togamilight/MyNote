# 第二章 为样式找到应用目标

## 2.1 常用的选择器

`tagName` 标签选择器， `.class` 类选择器，`#id` id选择器， `parent child` 后代选择器

### 伪类

* `:link :visited` 称为**链接伪类**，只能用于锚元素。
* `:hover :active :focus` 称为**动态伪类**，理论上可用于任何元素。

## 2.3 高级选择器

`parent>child` 子选择器，`h2+p` 其后相邻同胞选择器（IE7以上都支持，但在IE7中，父子元素之间有HTML注释会出问题）
* 在不兼容的浏览器中，可以使用以下方法实现相同效果
    ```CSS
    /*先将样式应用到所有后代元素，再将非直接子元素的样式还原*/
    #nav li { /*想实现在子元素上的效果*/ }
    #nav li * { /*还原非直接子元素的样式*/ }
    ```

`[attr="value"]`属性选择器
* 属性选择器的几种形态：
    * `[attribute]`：根据属性名选择
    * `[attribute='value']`：根据属性值选择
    * `[attribute~='value']`：根据属性值之一选择
    * `[attribute|='value']`：选择属性值以value开头的属性的元素（value或value-*）

### 层叠和特殊性（优先级）

层叠采用以下重要度次序：
* 标有 `!important` 的用户样式
* 标有 `!important` 的作者样式
* 作者样式
* 用户样式
* 浏览器/用户代理应用的样式

然后根据选择器的特殊性来决定优先度，优先度相同的以后定义的规则优先。
特殊性分为4个等级：a、b、c、d
* **行内样式：** a = 1（1000）
* **id选择器：** b = 数量（X * 100）
* **类、伪类、属性选择器：** c = 数量（X * 10）
* **类型（标签）、伪元素选择器：** d = 数量（X * 1）

**Tip：** 在body标签上添加id或类，使用特殊性来灵活控制站点的设计与布局

### 继承

后代元素会继承其父元素的某些属性，比如字体、颜色，且继承的样式的特殊性为空，直接应用于元素的样式会覆盖继承的样式。

## 2.4 规划、组织和维护样式表

### 对文档应用样式

对HTML应用CSS有几种方法（其中的`type`属性都是可省略的）：
1. 使用`style`标签，在其中直接书写CSS样式
    ```HTML
    <style type="text/css">
        ...
    </style>
    ```
2. 外部CSS文件，使用`link`标签导入
    ```HTML
    <link href="/css/basic.css" rel="stylesheet" type="text/css" />
    ```
3. 在CSS代码（`style`标签中或CSS文件中）中使用`@import`导入外部CSS文件
    ```HTML
    <style type="text/css">
        @import url("/css/basic.css");  /*双引号加不加无所谓*/
    </style>
    ```
`import`要比`link`慢

把CSS文件分成多个会影响速度，且浏览器从同一域能下载的文件数量有限，老式浏览器通常是2个，现代浏览器8个。（查了资料，这里应该指的是浏览器最大并发请求资源数，即同一域名下同一时间能请求的资源数量）推荐使用单一CSS文件，还便于维护。
